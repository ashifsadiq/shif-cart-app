import{r as c,K as b,j as e,S as d}from"./app-jYtbDyJ1.js";import{B as N}from"./button-BTuSyLP_.js";import{U as w}from"./user-layout-BQaRG1Vd.js";import{c as y}from"./utils-jAU0Cazi.js";/* empty css            */import"./Navbar-CrYFI85a.js";import"./createLucideIcon-BVkEf1E1.js";import"./settings-DbazbBUG.js";import"./x-DktvfMmH.js";function C({order:t,items:m,items_meta:a}){const[i,x]=c.useState(a.current_page||1),[o,l]=c.useState(!1),{url:h}=b(),f=h.split("?")[0],p=async s=>{if(!o){l(!0);try{await d.get(`${f}`,{page:s},{preserveState:!0,preserveScroll:!0,onFinish:()=>{window.scrollTo({top:0,left:0,behavior:"smooth"}),l(!1)}})}catch{l(!1)}}},u=s=>{s<1||s>a.last_page||s===i||(x(s),p(s))},j=({page:s,isActive:r,label:n=null})=>e.jsx("button",{onClick:()=>u(s),disabled:r||o,className:y("w-10 h-10 flex items-center justify-center rounded border","disabled:opacity-50 disabled:cursor-not-allowed",r?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-accent"),"aria-current":r?"page":void 0,children:n||s});return e.jsxs(w,{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["Order ",e.jsxs("span",{className:"text-primary",children:["#",t.order_number]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-4 mt-1",children:[e.jsxs("span",{children:["Status: ",e.jsx("span",{className:"font-semibold capitalize",children:t.status})]}),e.jsxs("span",{children:["Items: ",e.jsx("span",{className:"font-semibold",children:t.items_count})]}),e.jsxs("span",{children:["Placed: ",e.jsx("span",{children:new Date(t.created_at).toLocaleString()})]}),e.jsxs("span",{children:["Amount: ",e.jsx("span",{className:"font-semibold",children:t.amount})]})]})]}),e.jsx(N,{onClick:()=>d.visit("/orders"),href:"/orders",variant:"outline",size:"sm",children:"Back to Orders"})]}),e.jsx("hr",{className:"mb-6"}),e.jsxs("div",{className:"space-y-6",children:[m.data.map(({id:s,product:r,quantity:n,price:g})=>e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 bg-white/80 border border-border rounded-lg p-4 shadow-sm",children:[e.jsx("img",{src:r.image,alt:r.name,className:"w-32 h-32 object-contain bg-foreground/10 rounded-lg",loading:"lazy",width:128,height:128}),e.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:r.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]}),e.jsxs("div",{className:"flex items-center gap-6 mt-2",children:[e.jsxs("span",{children:["Qty: ",e.jsx("span",{className:"font-semibold",children:n})]}),e.jsxs("span",{children:["Total: ",e.jsxs("span",{className:"font-semibold",children:["₹",Number(g).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.discount&&e.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-800 text-xs",children:[r.discount,"% OFF"]}),r.mrp&&r.mrp!==r.price&&e.jsxs("span",{className:"line-through text-xs text-muted-foreground",children:["MRP: ₹",r.mrp]})]})]})]},s)),e.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:Array.from({length:a.last_page},(s,r)=>r+1).map(s=>e.jsx(j,{page:s,isActive:s===i},s))})]})]})}export{C as default};
